<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="login-register.css">
    <link rel="stylesheet" href="keyframes.css">
    <title>Welcome to EnigmaRealm</title>
</head>
<body>
    <div>
        <p class="welcome-en">Welcome to EnigmaRealm</p>
    </div>

<!----------------------------- Form box ----------------------------------->    
    <div class="form-box">
        
        <!------------------- login form -------------------------->

        <div class="login-container" id="login">
            <div class="top">
                <header>Login</header>
            </div>
            <div class="input-box-3">
                <input type="text" id="LoginEmail" class="input-field" placeholder="Username or Email">
            </div>
            <div class="input-box-3">
                <input type="password" id="LoginPassword" class="input-field" placeholder="Password">
            </div>
            <div class="input-box">
                <input type="submit" class="submit" value="Sign In" onclick="auth()">
            </div>
            <div class="two-col">
                <div class="one">
                    <input type="checkbox" id="login-check">
                    <label for="login-check"> Remember Me</label>
                </div>
                <div class="two">
                    <label><a href="#" onclick="forgetPassWord()">Forgot password?</a></label>
                </div>
            </div>
            <div class="bottom">
                <span>Don't have an account? <a href="#" id="register-link" onclick="register()">Sign Up</a></span>
            </div>
        </div>

        <!------------------- registration form -------------------------->
        <div class="register-container" id="register">
            <div class="top">
                <header>Sign Up</header>
            </div>
            <div class="two-forms">
                <div class="input-box">
                    <input type="text" class="input-field-2" placeholder="Full name">
                </div>
            </div>
            <div class="input-box">
                <input type="text" class="input-field" placeholder="Email">
            </div>
            <div class="input-box">
                <input type="password" class="input-field" placeholder="Password">
            </div>
            <div class="input-box">
              <input type="password" class="input-field" placeholder="Repeat Password">
          </div>
            <div class="input-box">
                <input type="submit" class="submit" value="Register" onclick="alertSignUp()">
                <p class="terms-cond">By creating an account you agree to our <a href="./terms-conditon.html">Terms & conditions</a></p>
            </div>
            <div class="two-col">
                <div class="one">
                    <input type="checkbox" id="register-check">
                    <label for="register-check"> Remember Me</label>
                </div>
                <div class="two">
                    <label><a href="./terms-conditon.html">"Terms & conditions</a></label>
                </div>
            </div>
            <div class="bottom">
                <span>Already have an account? <a href="#" id="login-link" onclick="login()">Login</a></span>
            </div>
        </div>
    </div>
</div>   

<script>
        function alertSignUp(){
        alert('Server is down. Please use the given login details')
    }

    function forgetPassWord(){
        alert('Server is down. Please contact us which can be found in Terms and Conditions')
    }
</script>


<script> //Making the reigister and lgoin move

    var a = document.getElementById("loginBtn");
    var b = document.getElementById("registerBtn");
    var x = document.getElementById("login");
    var y = document.getElementById("register");
    function login() {
        x.style.left = "4px";
        y.style.right = "-520px";
        a.className += " white-btn";
        b.className = "btn";
        x.style.opacity = 1;
        y.style.opacity = 0;
    }
    function register() {
        x.style.left = "-510px";
        y.style.right = "5px";
        a.className = "btn";
        b.className += " white-btn";
        x.style.opacity = 0;
        y.style.opacity = 1;
    }

</script>

<script> //Actual login system and maybe register
  //Redirects to home page
  function auth(){
      var Loginemail = document.getElementById("LoginEmail").value;
      var Loginpassword = document.getElementById("LoginPassword").value;
      
      if(Loginemail =="ENadmin@gmail.com" && Loginpassword=="admin"){
        window.location.assign("homepage.html");
        alert("Welcome " + email);
      }
      else{
        alert("Invalid Information");
        return;
      }
  }
  
    // Check if a session exists
    var isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
  
  
    // Variable to control automatic login
    var enableAutoLogin = true;
  
    // Function to clear the session
    function clearSession() {
      localStorage.removeItem('isLoggedIn');
    }
  
  
    // Handle login form submission
    document.querySelector('.login-container').addEventListener('submit', function(e) {
      e.preventDefault();
      manualLogin();
    });
  
  
    // Check if a session exists and auto-login if true
    if (isLoggedIn && enableAutoLogin) {
      autoLogin();
    } else {
      clearSession();
    }
  
  
    // Handle registration form submission
    document.querySelector('.register-container').addEventListener('submit', function(e) {
      e.preventDefault();
      var username = document.getElementById('username').value;
      var email = document.getElementById('email-register').value;
      var password = document.getElementById('password-register').value;
      var confirmPassword = document.getElementById('confirm-password').value;
  
  
      if (password === confirmPassword) {
        // Store the registered credentials in localStorage
        localStorage.setItem('registeredEmail', email);
        localStorage.setItem('registeredPassword', password);
  
  
        // Automatically fill in the login form with registered credentials
        document.getElementById('email').value = email;
        document.getElementById('password').value = password;
  
  
        alert('Registration successful!');
      } else {
        alert('Passwords do not match. Please try again.');
      }
    });
  
  
       // Handle login link click
       document.getElementById('register-link').addEventListener('click', function(e) {
      e.preventDefault();
      document.getElementById('login-page').style.display = 'none';
      document.getElementById('register-page').style.display = 'block';
    });
  
  
           // Handle login link click
        document.getElementById('login-link').addEventListener('click', function(e) {
      e.preventDefault();
      document.getElementById('register-page').style.display = 'none';
      document.getElementById('login-page').style.display = 'block';
    });

        // Handle logout link click
        document.getElementById('logout-link').addEventListener('click', function(e) {
      e.preventDefault();
      clearSession();
      location.reload(); // Refresh the page to show the login form
    });

  
  </script>

</body>
</html>